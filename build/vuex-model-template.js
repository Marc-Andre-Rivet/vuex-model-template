!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("lodash"),require("vue"),require("vuex"));else if("function"==typeof define&&define.amd)define(["lodash","vue","vuex"],t);else{var n="object"==typeof exports?t(require("lodash"),require("vue"),require("vuex")):t(e.lodash,e.vue,e.vuex);for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(this,function(e,t,n){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),u=o(r);t.default=u.default.getProxy({Any:Symbol("Any"),Array:Symbol("Array"),Boolean:Symbol("Boolean"),Complex:Symbol("Complex"),ModelObject:Symbol("ModelObject"),Number:Symbol("Number"),Object:Symbol("Object"),String:Symbol("String"),Symbol:Symbol("Symbol")})},function(t,n){t.exports=e},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){var n=this;p.default.intersection(p.default.keys(e),p.default.keys(t));p.default.defaults(this,e);var o=p.default.difference(p.default.keys(t),p.default.keys(e));p.default.each(o,function(o){if(t[o].type!==x.default.Complex)n[o]=p.default.cloneDeep(t[o].defaultValue);else{var r;console.log("apply default value to complex type",o),n[o]={},(r=n[o],u).call(r,e&&e[o]?e[o]:void 0,t[o].properties)}})}function a(e){return e===x.default.Array?["set","add","remove","clear"]:["set"]}function l(e){var t=this,n={},o=Object.getOwnPropertyNames(e);return p.default.each(o,function(o){n[o]={};e[o].actions;p.default.forOwn(a(e[o].type),function(e){var r="["+t.$moduleId+"]/"+_.join("/")+(_.length?"/":"")+o+":"+e;n[o][e]=function(){for(var e,n=arguments.length,o=Array(n),u=0;u<n;u++)o[u]=arguments[u];(e=console).log.apply(e,["do",r].concat(o)),y.act.call.apply(y.act,[t,r].concat(o))}}),e[o].properties&&(_.push(o),n[o]=p.default.extend(n[o],l.call(t,e[o].properties)),_.splice(-1))}),n}function i(e){var t=this,n={};return p.default.forOwn(e,function(e,o){var r="["+t.$moduleId+"]:"+o;n[o]=function(){for(var e,n=arguments.length,o=Array(n),u=0;u<n;u++)o[u]=arguments[u];(e=console).log.apply(e,["do",r].concat(o)),y.act.call.apply(y.act,[t,r].concat(o))}}),n}function c(){var e=this.constructor.name;return w[e]=w[e]||0,e+"/"+w[e]++}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(1),p=o(d),y=n(7),h=n(5),v=o(h),b=n(6),m=o(b),g=n(3),O=o(g),j=n(0),x=o(j),_=[],w={},M=new WeakMap,k=function(){function e(t,n,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r(this,e),!t)throw"You must register the store before creating model objects.";var s=c.call(this);M.set(this,{$moduleId:s,$store:t}),m.default.call(n,o),u.call(this,n,o),this.actions=f({},l.call(this,o),i.call(this,a));var d=O.default.getProxy(this);return v.default.call(this,o,a),d}return s(e,[{key:"$moduleId",get:function(){return M.get(this).$moduleId}},{key:"$store",get:function(){return M.get(this).$store}}]),e}();t.default=k},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),l=(o(a),new WeakMap,function(){function e(){r(this,e)}return u(e,null,[{key:"getProxy",value:function(e){return e}}]),e}());t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE=t.ModelObject=void 0;var r=n(0),u=o(r),a=n(2),l=o(a);t.ModelObject=l.default,t.TYPE=u.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return e===s.default.Array?["set","add","remove","clear"]:["set"]}function u(e){var t=this,n={},o=Object.getOwnPropertyNames(e);return c.default.each(o,function(o){c.default.forOwn(r(e[o].type),function(r){var u="["+t.$moduleId+"]/"+d.join("/")+(d.length?"/":"")+o+":"+r;n[u]=function(n,r){var a=n.commit;console.log("act",u,r,t),a(u,r),c.default.each(e[o].sideEffects,function(e){var n="["+t.$moduleId+"]/"+e.property+":"+e.action;console.log("act/side-effect",n,e.value),a(n,e.value)})}}),e[o].properties&&(d.push(o),c.default.extend(n,u.call(t,e[o].properties)),d.splice(-1))}),n}function a(e){var t=this,n={},o=Object.getOwnPropertyNames(e);return c.default.each(o,function(o){c.default.forOwn(r(e[o].type),function(e){var r="["+t.$moduleId+"]/"+d.join("/")+(d.length?"/":"")+o+":"+e,u=c.default.cloneDeep(d);"set"===e?n[r]=function(e,t){console.log("mutate",r,e,t),c.default.reduce(u,function(e,t){return e[t]},e)[o]=t}:"clear"===e?n[r]=function(e,t){console.log("mutate",r,e,t),c.default.reduce(u,function(e,t){return e[t]},e)[o].splice(0)}:"add"===e?n[r]=function(e,t){console.log("mutate",r,e,t),c.default.reduce(u,function(e,t){return e[t]},e)[o].push(t)}:"remove"===e&&(n[r]=function(e,t){console.log("mutate",r,e,t);var n=c.default.reduce(u,function(e,t){return e[t]},e)[o],a=n.indexOf(t);a!==-1?n.splice(a,1):console.log("item "+t+" not found")})}),e[o].properties&&(d.push(o),c.default.extend(n,a.call(t,e[o].properties)),d.splice(-1))}),n}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(e,t){var n=this;return c.default.forOwn(t,function(e,o){delete t[o],t["["+n.$moduleId+"]:"+o]=e}),this.$store.registerModule(this.$moduleId,{state:this,actions:l({},u.call(this,e),t),mutations:l({},a.call(this,e))}),t};var i=n(1),c=o(i),f=n(0),s=o(f),d=[]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){throw new Error("expected '"+e.toString()+"' but got '"+(void 0===t?"undefined":l(t))+"' in '"+y.join(".")+"'")}function u(e){if(!c.default.isUndefined(this))switch(e.type){case p.default.Any:break;case p.default.Array:c.default.isArray(this)?c.default.each(this,function(t){u.call(t,e.items)}):r(e.type,this);break;case p.default.Boolean:c.default.isBoolean(this)||r(e.type,this);break;case p.default.Complex:c.default.isObject(this)||r(e.type,this),a.call(this,e.properties);break;case p.default.ModelObject:!this||this instanceof s.default||r(e.type,this);break;case p.default.Number:c.default.isNumber(this)||r(e.type,this);break;case p.default.Object:c.default.isObject(this)||r(e.type,this);break;case p.default.String:c.default.isString(this)||r(e.type,this);break;default:throw new Error("unexpected type")}}function a(e){var t=this,n=c.default.difference(c.default.keys(this),c.default.keys(e));if(n.length)throw new Error("unexpected properties found in '"+(y.join(".")||"data")+"': '"+n+"'");var o=c.default.intersection(c.default.keys(this),c.default.keys(e));c.default.each(o,function(n){var o;y.push(n),(o=t[n],u).call(o,e[n]),y.splice(-1)})}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){this&&(y=[],a.call(this,e))};var i=n(1),c=o(i),f=n(2),s=o(f),d=n(0),p=o(d),y=[]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];(0,l.mapMutations)([e])[e].call(this,n)}function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return 1===n.length?(0,l.mapActions)([e])[e].call(this,n.pop()):(0,l.mapActions)([e])[e].call(this,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.mutate=r,t.act=u;var a=n(8),l=(o(a),n(9))},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){e.exports=n(4)}])});
//# sourceMappingURL=vuex-model-template.js.map